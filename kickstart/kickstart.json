{
  "variables": {
    "adminUserId": "00000000-0000-0000-0000-000000000001",
    "testUserId": "00000000-0000-0000-0000-000000000002",
    "bffApplicationId": "f62e03d1-cbdb-4ff8-92e3-1966dc05d1ab",
    "bffClientId": "f62e03d1-cbdb-4ff8-92e3-1966dc05d1ab",
    "bffClientSecret": "2274075d-3358-4f59-a13a-ddf4c6906b1e",
    "bffUrl": "http://localhost:3118",
    "limsUiUrl": "http://localhost:4667"
  },
  "apiKeys": [
    {
      "key": "bf69486b-4733-4470-a592-f1bfce7af580",
      "description": "Default API key for kickstart"
    }
  ],
  "settings": {
    "requestTimeoutInMilliseconds": 30000
  },
  "requests": [
    {
      "method": "POST",
      "url": "/api/user/#{adminUserId}",
      "body": {
        "user": {
          "id": "#{adminUserId}",
          "email": "admin@example.local",
          "password": "password123",
          "firstName": "Admin",
          "lastName": "User",
          "fullName": "Admin User",
          "active": true,
          "verified": true
        },
        "skipVerification": true,
        "sendSetPasswordEmail": false
      }
    },
    {
      "method": "POST",
      "url": "/api/user/#{testUserId}",
      "body": {
        "user": {
          "id": "#{testUserId}",
          "email": "test@example.local",
          "password": "password",
          "firstName": "Test",
          "lastName": "User",
          "fullName": "Test User",
          "active": true,
          "verified": true
        },
        "skipVerification": true,
        "sendSetPasswordEmail": false
      }
    },
    {
      "method": "POST",
      "url": "/api/application/#{bffApplicationId}",
      "body": {
        "application": {
          "id": "#{bffApplicationId}",
          "name": "My BFF",
          "active": true,
          "jwtConfiguration": {
            "enabled": true,
            "refreshTokenTimeToLiveInMinutes": 43200,
            "timeToLiveInSeconds": 3600
          },
          "loginConfiguration": {
            "allowTokenRefresh": true,
            "generateRefreshTokens": true,
            "requireAuthentication": true
          },
          "oauthConfiguration": {
            "clientId": "#{bffClientId}",
            "clientSecret": "#{bffClientSecret}",
            "clientAuthenticationPolicy": "Required",
            "proofKeyForCodeExchangePolicy": "Required",
            "authorizedRedirectURLs": [
              "#{bffUrl}/signin-oidc",
              "#{bffUrl}/",
              "#{limsUiUrl}/"
            ],
            "authorizedOriginURLs": [
              "#{bffUrl}",
              "#{limsUiUrl}"
            ],
            "logoutURL": "#{bffUrl}/signout-callback-oidc",
            "enabledGrants": [
              "authorization_code",
              "refresh_token"
            ],
            "generateRefreshTokens": true,
            "refreshTokenTimeToLiveInMinutes": 43200,
            "refreshTokenUsagePolicy": "Reusable",
            "requireRegistration": false
          },
          "roles": []
        }
      }
    },
    {
      "method": "POST",
      "url": "/api/user/registration/#{adminUserId}",
      "body": {
        "registration": {
          "applicationId": "#{bffApplicationId}",
          "userId": "#{adminUserId}",
          "roles": []
        }
      }
    },
    {
      "method": "POST",
      "url": "/api/user/registration/#{testUserId}",
      "body": {
        "registration": {
          "applicationId": "#{bffApplicationId}",
          "userId": "#{testUserId}",
          "roles": []
        }
      }
    }
  ]
}